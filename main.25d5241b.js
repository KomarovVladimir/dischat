(()=>{var __webpack_modules__={5358:(module,__unused_webpack_exports,__webpack_require__)=>{eval('var map = {\n\t"./af": 5177,\n\t"./af.js": 5177,\n\t"./ar": 1509,\n\t"./ar-dz": 1488,\n\t"./ar-dz.js": 1488,\n\t"./ar-kw": 8676,\n\t"./ar-kw.js": 8676,\n\t"./ar-ly": 2353,\n\t"./ar-ly.js": 2353,\n\t"./ar-ma": 4496,\n\t"./ar-ma.js": 4496,\n\t"./ar-ps": 6947,\n\t"./ar-ps.js": 6947,\n\t"./ar-sa": 2682,\n\t"./ar-sa.js": 2682,\n\t"./ar-tn": 9756,\n\t"./ar-tn.js": 9756,\n\t"./ar.js": 1509,\n\t"./az": 5533,\n\t"./az.js": 5533,\n\t"./be": 8959,\n\t"./be.js": 8959,\n\t"./bg": 7777,\n\t"./bg.js": 7777,\n\t"./bm": 4903,\n\t"./bm.js": 4903,\n\t"./bn": 1290,\n\t"./bn-bd": 7357,\n\t"./bn-bd.js": 7357,\n\t"./bn.js": 1290,\n\t"./bo": 1545,\n\t"./bo.js": 1545,\n\t"./br": 1470,\n\t"./br.js": 1470,\n\t"./bs": 4429,\n\t"./bs.js": 4429,\n\t"./ca": 7306,\n\t"./ca.js": 7306,\n\t"./cs": 6464,\n\t"./cs.js": 6464,\n\t"./cv": 6016,\n\t"./cv.js": 6016,\n\t"./cy": 4226,\n\t"./cy.js": 4226,\n\t"./da": 3601,\n\t"./da.js": 3601,\n\t"./de": 7853,\n\t"./de-at": 8492,\n\t"./de-at.js": 8492,\n\t"./de-ch": 4697,\n\t"./de-ch.js": 4697,\n\t"./de.js": 7853,\n\t"./dv": 708,\n\t"./dv.js": 708,\n\t"./el": 4691,\n\t"./el.js": 4691,\n\t"./en-au": 3872,\n\t"./en-au.js": 3872,\n\t"./en-ca": 8298,\n\t"./en-ca.js": 8298,\n\t"./en-gb": 6195,\n\t"./en-gb.js": 6195,\n\t"./en-ie": 6584,\n\t"./en-ie.js": 6584,\n\t"./en-il": 5543,\n\t"./en-il.js": 5543,\n\t"./en-in": 9033,\n\t"./en-in.js": 9033,\n\t"./en-nz": 9402,\n\t"./en-nz.js": 9402,\n\t"./en-sg": 3004,\n\t"./en-sg.js": 3004,\n\t"./eo": 2934,\n\t"./eo.js": 2934,\n\t"./es": 7650,\n\t"./es-do": 838,\n\t"./es-do.js": 838,\n\t"./es-mx": 7730,\n\t"./es-mx.js": 7730,\n\t"./es-us": 6575,\n\t"./es-us.js": 6575,\n\t"./es.js": 7650,\n\t"./et": 3035,\n\t"./et.js": 3035,\n\t"./eu": 3508,\n\t"./eu.js": 3508,\n\t"./fa": 119,\n\t"./fa.js": 119,\n\t"./fi": 527,\n\t"./fi.js": 527,\n\t"./fil": 5995,\n\t"./fil.js": 5995,\n\t"./fo": 4858,\n\t"./fo.js": 4858,\n\t"./fr": 5498,\n\t"./fr-ca": 6435,\n\t"./fr-ca.js": 6435,\n\t"./fr-ch": 7892,\n\t"./fr-ch.js": 7892,\n\t"./fr.js": 5498,\n\t"./fy": 7071,\n\t"./fy.js": 7071,\n\t"./ga": 1734,\n\t"./ga.js": 1734,\n\t"./gd": 217,\n\t"./gd.js": 217,\n\t"./gl": 7329,\n\t"./gl.js": 7329,\n\t"./gom-deva": 2124,\n\t"./gom-deva.js": 2124,\n\t"./gom-latn": 3383,\n\t"./gom-latn.js": 3383,\n\t"./gu": 5050,\n\t"./gu.js": 5050,\n\t"./he": 1713,\n\t"./he.js": 1713,\n\t"./hi": 3861,\n\t"./hi.js": 3861,\n\t"./hr": 6308,\n\t"./hr.js": 6308,\n\t"./hu": 609,\n\t"./hu.js": 609,\n\t"./hy-am": 7160,\n\t"./hy-am.js": 7160,\n\t"./id": 4063,\n\t"./id.js": 4063,\n\t"./is": 9374,\n\t"./is.js": 9374,\n\t"./it": 8383,\n\t"./it-ch": 1827,\n\t"./it-ch.js": 1827,\n\t"./it.js": 8383,\n\t"./ja": 3827,\n\t"./ja.js": 3827,\n\t"./jv": 9722,\n\t"./jv.js": 9722,\n\t"./ka": 1794,\n\t"./ka.js": 1794,\n\t"./kk": 7088,\n\t"./kk.js": 7088,\n\t"./km": 6870,\n\t"./km.js": 6870,\n\t"./kn": 4451,\n\t"./kn.js": 4451,\n\t"./ko": 3164,\n\t"./ko.js": 3164,\n\t"./ku": 8174,\n\t"./ku-kmr": 6181,\n\t"./ku-kmr.js": 6181,\n\t"./ku.js": 8174,\n\t"./ky": 8474,\n\t"./ky.js": 8474,\n\t"./lb": 9680,\n\t"./lb.js": 9680,\n\t"./lo": 5867,\n\t"./lo.js": 5867,\n\t"./lt": 5766,\n\t"./lt.js": 5766,\n\t"./lv": 9532,\n\t"./lv.js": 9532,\n\t"./me": 8076,\n\t"./me.js": 8076,\n\t"./mi": 9467,\n\t"./mi.js": 9467,\n\t"./mk": 306,\n\t"./mk.js": 306,\n\t"./ml": 3739,\n\t"./ml.js": 3739,\n\t"./mn": 9053,\n\t"./mn.js": 9053,\n\t"./mr": 6169,\n\t"./mr.js": 6169,\n\t"./ms": 3386,\n\t"./ms-my": 2297,\n\t"./ms-my.js": 2297,\n\t"./ms.js": 3386,\n\t"./mt": 7075,\n\t"./mt.js": 7075,\n\t"./my": 2264,\n\t"./my.js": 2264,\n\t"./nb": 2274,\n\t"./nb.js": 2274,\n\t"./ne": 8235,\n\t"./ne.js": 8235,\n\t"./nl": 2572,\n\t"./nl-be": 3784,\n\t"./nl-be.js": 3784,\n\t"./nl.js": 2572,\n\t"./nn": 4566,\n\t"./nn.js": 4566,\n\t"./oc-lnc": 9330,\n\t"./oc-lnc.js": 9330,\n\t"./pa-in": 9849,\n\t"./pa-in.js": 9849,\n\t"./pl": 4418,\n\t"./pl.js": 4418,\n\t"./pt": 9834,\n\t"./pt-br": 8303,\n\t"./pt-br.js": 8303,\n\t"./pt.js": 9834,\n\t"./ro": 4457,\n\t"./ro.js": 4457,\n\t"./ru": 2271,\n\t"./ru.js": 2271,\n\t"./sd": 1221,\n\t"./sd.js": 1221,\n\t"./se": 1097,\n\t"./se.js": 1097,\n\t"./si": 7538,\n\t"./si.js": 7538,\n\t"./sk": 5784,\n\t"./sk.js": 5784,\n\t"./sl": 6637,\n\t"./sl.js": 6637,\n\t"./sq": 6794,\n\t"./sq.js": 6794,\n\t"./sr": 5719,\n\t"./sr-cyrl": 3322,\n\t"./sr-cyrl.js": 3322,\n\t"./sr.js": 5719,\n\t"./ss": 6000,\n\t"./ss.js": 6000,\n\t"./sv": 1011,\n\t"./sv.js": 1011,\n\t"./sw": 748,\n\t"./sw.js": 748,\n\t"./ta": 1025,\n\t"./ta.js": 1025,\n\t"./te": 1885,\n\t"./te.js": 1885,\n\t"./tet": 8861,\n\t"./tet.js": 8861,\n\t"./tg": 6571,\n\t"./tg.js": 6571,\n\t"./th": 5802,\n\t"./th.js": 5802,\n\t"./tk": 9527,\n\t"./tk.js": 9527,\n\t"./tl-ph": 9231,\n\t"./tl-ph.js": 9231,\n\t"./tlh": 1052,\n\t"./tlh.js": 1052,\n\t"./tr": 5096,\n\t"./tr.js": 5096,\n\t"./tzl": 9846,\n\t"./tzl.js": 9846,\n\t"./tzm": 1765,\n\t"./tzm-latn": 7711,\n\t"./tzm-latn.js": 7711,\n\t"./tzm.js": 1765,\n\t"./ug-cn": 8414,\n\t"./ug-cn.js": 8414,\n\t"./uk": 6618,\n\t"./uk.js": 6618,\n\t"./ur": 158,\n\t"./ur.js": 158,\n\t"./uz": 7609,\n\t"./uz-latn": 2475,\n\t"./uz-latn.js": 2475,\n\t"./uz.js": 7609,\n\t"./vi": 1135,\n\t"./vi.js": 1135,\n\t"./x-pseudo": 4051,\n\t"./x-pseudo.js": 4051,\n\t"./yo": 2218,\n\t"./yo.js": 2218,\n\t"./zh-cn": 2648,\n\t"./zh-cn.js": 2648,\n\t"./zh-hk": 1632,\n\t"./zh-hk.js": 1632,\n\t"./zh-mo": 1541,\n\t"./zh-mo.js": 1541,\n\t"./zh-tw": 304,\n\t"./zh-tw.js": 304\n};\n\n\nfunction webpackContext(req) {\n\tvar id = webpackContextResolve(req);\n\treturn __webpack_require__(id);\n}\nfunction webpackContextResolve(req) {\n\tif(!__webpack_require__.o(map, req)) {\n\t\tvar e = new Error("Cannot find module \'" + req + "\'");\n\t\te.code = \'MODULE_NOT_FOUND\';\n\t\tthrow e;\n\t}\n\treturn map[req];\n}\nwebpackContext.keys = function webpackContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackContext.resolve = webpackContextResolve;\nmodule.exports = webpackContext;\nwebpackContext.id = 5358;\n\n//# sourceURL=webpack://dischat/./node_modules/moment/locale/_sync_^\\.\\/.*$?')},3635:(__unused_webpack_module,__unused_webpack___webpack_exports__,__webpack_require__)=>{"use strict";eval('\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(4848);\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(5338);\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(6540);\n// EXTERNAL MODULE: ./node_modules/react-router-dom/dist/index.js\nvar dist = __webpack_require__(4976);\n;// CONCATENATED MODULE: ./src/components/ErrorBoundary/index.tsx\nvar __extends = (undefined && undefined.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== "function" && b !== null)\n            throw new TypeError("Class extends value " + String(b) + " is not a constructor or null");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\n\n\nvar ErrorBoundary = /** @class */ (function (_super) {\n    __extends(ErrorBoundary, _super);\n    function ErrorBoundary() {\n        var _this = _super !== null && _super.apply(this, arguments) || this;\n        _this.state = {\n            hasError: false\n        };\n        return _this;\n    }\n    ErrorBoundary.getDerivedStateFromError = function (_) {\n        return { hasError: true };\n    };\n    ErrorBoundary.prototype.componentDidCatch = function (error, errorInfo) {\n        console.error("Uncaught error:", error, errorInfo);\n    };\n    ErrorBoundary.prototype.render = function () {\n        if (this.state.hasError) {\n            return (0,jsx_runtime.jsx)("h1", { children: "Sorry.. there was an error" });\n        }\n        return this.props.children;\n    };\n    return ErrorBoundary;\n}(react.Component));\n\n\n// EXTERNAL MODULE: ./node_modules/react-router/dist/index.js\nvar react_router_dist = __webpack_require__(7767);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Stack/Stack.js + 3 modules\nvar Stack = __webpack_require__(936);\n;// CONCATENATED MODULE: ./src/components/layouts/ChatLayout.tsx\n\n\nvar ChatLayout = function (_a) {\n    var leftPanel = _a.leftPanel, chat = _a.chat;\n    return ((0,jsx_runtime.jsxs)(Stack/* default */.A, { direction: "row", spacing: 2, height: "100%", useFlexGap: true, padding: 2, children: [leftPanel, chat] }));\n};\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/List/List.js + 1 modules\nvar List = __webpack_require__(9799);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Avatar/Avatar.js + 4 modules\nvar Avatar = __webpack_require__(2183);\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/styled.js\nvar styled = __webpack_require__(1848);\n;// CONCATENATED MODULE: ./src/components/layouts/PageWrapper.tsx\n\nvar PageWrapper = (0,styled/* default */.Ay)("div")({\n    display: "flex",\n    flexDirection: "column",\n    height: "100vh",\n    padding: "2.5rem 2rem 2rem 2rem"\n});\n\n;// CONCATENATED MODULE: ./src/components/layouts/index.ts\n\n\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Paper/Paper.js + 2 modules\nvar Paper = __webpack_require__(538);\n;// CONCATENATED MODULE: ./src/components/Paper/index.tsx\n\nvar Paper_Paper = (0,styled/* default */.Ay)(Paper/* default */.A)({\n    borderRadius: "8px",\n    border: " 1px solid #383c47",\n    background: "rgba(203, 227, 255, 0.10)",\n    boxShadow: "8px 16px 24px 0px rgba(0, 0, 0, 0.16)",\n    backdropFilter: "blur(8px)"\n});\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Typography/Typography.js + 1 modules\nvar Typography = __webpack_require__(4073);\n;// CONCATENATED MODULE: ./src/components/Title/index.tsx\n\nvar Title = (0,styled/* default */.Ay)(Typography/* default */.A)({\n    textDecoration: "none",\n    boxShadow: "none",\n    fontSize: "2rem",\n    color: "white"\n});\nvar TitleLink = (0,styled/* default */.Ay)(Title)(function (_a) {\n    var theme = _a.theme;\n    return ({\n        "&:hover": {\n            color: theme.palette.primary.main\n        }\n    });\n});\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItem/ListItem.js + 3 modules\nvar ListItem = __webpack_require__(4090);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemButton/ListItemButton.js\nvar ListItemButton = __webpack_require__(7211);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemIcon/ListItemIcon.js\nvar ListItemIcon = __webpack_require__(7873);\n// EXTERNAL MODULE: ./node_modules/@mui/material/ListItemText/ListItemText.js\nvar ListItemText = __webpack_require__(2241);\n;// CONCATENATED MODULE: ./src/components/ListItem/index.tsx\nvar __assign = (undefined && undefined.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __rest = (undefined && undefined.__rest) || function (s, e) {\n    var t = {};\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\n        t[p] = s[p];\n    if (s != null && typeof Object.getOwnPropertySymbols === "function")\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\n                t[p[i]] = s[p[i]];\n        }\n    return t;\n};\n\n\nvar ListItem_ListItem = function (_a) {\n    var icon = _a.icon, text = _a.text, props = __rest(_a, ["icon", "text"]);\n    return ((0,jsx_runtime.jsx)(ListItem/* default */.Ay, __assign({ disablePadding: true }, props, { children: (0,jsx_runtime.jsxs)(ListItemButton/* default */.A, { dense: true, children: [icon && (0,jsx_runtime.jsx)(ListItemIcon/* default */.A, { sx: { minWidth: 0 }, children: icon }), text && (0,jsx_runtime.jsx)(ListItemText/* default */.A, { primary: text })] }) })));\n};\n\n;// CONCATENATED MODULE: ./src/components/index.ts\n\n\n\n\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Dialog/Dialog.js + 1 modules\nvar Dialog = __webpack_require__(8031);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogActions/DialogActions.js + 1 modules\nvar DialogActions = __webpack_require__(8763);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Button/Button.js + 3 modules\nvar Button = __webpack_require__(6990);\n// EXTERNAL MODULE: ./node_modules/react-redux/dist/react-redux.mjs\nvar react_redux = __webpack_require__(1468);\n;// CONCATENATED MODULE: ./src/app/hooks/storeHooks.ts\n\nvar useAppDispatch = react_redux/* useDispatch */.wA;\nvar storeHooks_useAppSelector = react_redux/* useSelector */.d4;\n\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/redux-toolkit.modern.mjs + 1 modules\nvar redux_toolkit_modern = __webpack_require__(5307);\n;// CONCATENATED MODULE: ./src/features/chat/slice/messagesSlice.ts\nvar messagesSlice_assign = (undefined && undefined.__assign) || function () {\n    messagesSlice_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return messagesSlice_assign.apply(this, arguments);\n};\nvar _a;\n\nvar messageAdapter = (0,redux_toolkit_modern/* createEntityAdapter */.pU)();\nvar messagesSlice = (0,redux_toolkit_modern/* createSlice */.Z0)({\n    name: "messages",\n    initialState: messageAdapter.getInitialState(),\n    reducers: {\n        messageAdded: {\n            reducer: messageAdapter.addOne,\n            prepare: function (payload) { return ({\n                payload: messagesSlice_assign(messagesSlice_assign({}, payload), { id: (0,redux_toolkit_modern/* nanoid */.Ak)(), timestamp: new Date().toISOString() })\n            }); }\n        },\n        messageRemoved: function (state, _a) {\n            var id = _a.payload.id;\n            messageAdapter.removeOne(state, id);\n        }\n    }\n});\nvar messageAdded = (_a = messagesSlice.actions, _a.messageAdded), messageRemoved = _a.messageRemoved;\nvar messagesSelectors = messageAdapter.getSelectors(function (state) { return state.messages; });\n\n;// CONCATENATED MODULE: ./src/app/services/WebRTCService .ts\nvar __awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n\nvar WebRTCService = /** @class */ (function () {\n    function WebRTCService() {\n        this.connections = {};\n        this.dataChannels = {};\n        this.dispatch = null;\n    }\n    WebRTCService.prototype.setDispatch = function (dispatch) {\n        this.dispatch = dispatch;\n    };\n    WebRTCService.prototype.createConnection = function (id) {\n        var _this = this;\n        if (!this.connections[id]) {\n            console.log("".concat(id, ": Creating connection"));\n            this.connections[id] = new RTCPeerConnection();\n            this.connections[id].onicecandidate = function (_a) {\n                var candidate = _a.candidate;\n                if (candidate) {\n                    console.log("ICE candidate:", candidate);\n                }\n                else {\n                    console.log("ICE gathering complete");\n                }\n            };\n            this.connections[id].ondatachannel = function (_a) {\n                var channel = _a.channel;\n                channel.onopen = function () {\n                    channel.send("Data channel opened");\n                };\n                channel.onmessage = function (event) {\n                    if (_this.dispatch) {\n                        _this.dispatch(messageAdded({ roomId: id, text: event.data }));\n                    }\n                    console.log(event.data);\n                };\n            };\n        }\n        return this.connections[id];\n    };\n    WebRTCService.prototype.createDataChannel = function (_a) {\n        var _this = this;\n        var id = _a.id, label = _a.label;\n        console.log("".concat(id, ": Create data channel"));\n        this.dataChannels[id] = this.connections[id].createDataChannel(label);\n        console.log("".concat(id, ": Data channel created"));\n        this.dataChannels[id].onopen = function () {\n            _this.dataChannels[id].send("Hi you!");\n        };\n        this.dataChannels[id].onmessage = function (event) {\n            var message = event.data;\n            console.log(message);\n        };\n        this.dataChannels[id].onclose = function () {\n            console.log("Data channel closed");\n        };\n    };\n    WebRTCService.prototype.addIceCandidates = function (_a) {\n        return __awaiter(this, arguments, void 0, function (_b) {\n            var _i, candidates_1, candidate;\n            var id = _b.id, candidates = _b.candidates;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _i = 0, candidates_1 = candidates;\n                        _c.label = 1;\n                    case 1:\n                        if (!(_i < candidates_1.length)) return [3 /*break*/, 4];\n                        candidate = candidates_1[_i];\n                        return [4 /*yield*/, this.connections[id].addIceCandidate(candidate)];\n                    case 2:\n                        _c.sent();\n                        _c.label = 3;\n                    case 3:\n                        _i++;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WebRTCService.prototype.getConnection = function (id) {\n        return this.connections[id];\n    };\n    WebRTCService.prototype.getAllConnections = function () {\n        return this.connections;\n    };\n    WebRTCService.prototype.closeConnection = function (id) {\n        var peerConnection = this.connections[id];\n        if (peerConnection) {\n            peerConnection.close();\n            delete this.connections[id];\n        }\n    };\n    WebRTCService.prototype.closeDataChannel = function (id) {\n        var channel = this.dataChannels[id];\n        if (channel) {\n            channel.close();\n            delete this.dataChannels[id];\n        }\n    };\n    WebRTCService.prototype.closeAllConnections = function () {\n        for (var connection in this.connections) {\n            this.closeConnection(connection);\n        }\n    };\n    WebRTCService.prototype.waitForIceGatheringComplete = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                return [2 /*return*/, new Promise(function (resolve) {\n                        var checkIceState = function () {\n                            if (_this.connections[id].iceGatheringState === "complete") {\n                                console.log("".concat(id, ": Ice gathering complete"));\n                                resolve(_this.connections[id].localDescription);\n                            }\n                            else {\n                                setTimeout(checkIceState, 100);\n                            }\n                        };\n                        checkIceState();\n                    })];\n            });\n        });\n    };\n    WebRTCService.prototype.createAndSetOffer = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var offerInit, offer, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        _a.trys.push([0, 4, , 5]);\n                        console.log("".concat(id, ": Creating offer"));\n                        return [4 /*yield*/, this.connections[id].createOffer()];\n                    case 1:\n                        offerInit = _a.sent();\n                        console.log("".concat(id, ": Setting local description"));\n                        return [4 /*yield*/, this.connections[id].setLocalDescription(offerInit)];\n                    case 2:\n                        _a.sent();\n                        console.log("".concat(id, ": Offer created and set."));\n                        console.log("".concat(id, ": Waiting for ICE candidates"));\n                        return [4 /*yield*/, this.waitForIceGatheringComplete(id)];\n                    case 3:\n                        offer = _a.sent();\n                        return [2 /*return*/, offer];\n                    case 4:\n                        error_1 = _a.sent();\n                        console.error("".concat(id, ": Error creating or setting offer:"), error_1);\n                        throw error_1;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WebRTCService.prototype.createAndSetAnswer = function (id) {\n        return __awaiter(this, void 0, void 0, function () {\n            var answerInit, answer;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        console.log("".concat(id, ": Creating answer"));\n                        return [4 /*yield*/, this.connections[id].createAnswer()];\n                    case 1:\n                        answerInit = _a.sent();\n                        console.log("".concat(id, ": Setting local description"));\n                        return [4 /*yield*/, this.connections[id].setLocalDescription(answerInit)];\n                    case 2:\n                        _a.sent();\n                        console.log("".concat(id, ": Offer created and set."));\n                        console.log("".concat(id, ": Waiting for ICE candidates"));\n                        return [4 /*yield*/, this.waitForIceGatheringComplete(id)];\n                    case 3:\n                        answer = _a.sent();\n                        return [2 /*return*/, answer];\n                }\n            });\n        });\n    };\n    //TODO: Handle errors\n    WebRTCService.prototype.setRemoteDescription = function (_a) {\n        return __awaiter(this, arguments, void 0, function (_b) {\n            var id = _b.id, sessionDescription = _b.sessionDescription;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, this.connections[id].setRemoteDescription(JSON.parse(sessionDescription))];\n                    case 1:\n                        _c.sent();\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WebRTCService.prototype.sendMessage = function (_a) {\n        var _b;\n        var id = _a.id, message = _a.message;\n        (_b = this.dataChannels[id]) === null || _b === void 0 ? void 0 : _b.send(message);\n    };\n    return WebRTCService;\n}());\n\n\n;// CONCATENATED MODULE: ./src/app/providers/WebRTCProvider.tsx\n\n\n\n\nvar webRTCService = new WebRTCService();\nvar WebRTCContext = (0,react.createContext)(webRTCService);\n//TODO: Rework the redux streaming updates logic\nvar WebRTCProvider = function (_a) {\n    var children = _a.children;\n    var dispatch = (0,react_redux/* useDispatch */.wA)();\n    (0,react.useEffect)(function () {\n        webRTCService.setDispatch(dispatch);\n        return function () {\n            webRTCService.closeAllConnections();\n        };\n    }, []);\n    return ((0,jsx_runtime.jsx)(WebRTCContext.Provider, { value: webRTCService, children: children }));\n};\n\n;// CONCATENATED MODULE: ./src/app/hooks/useWebRTC.ts\n\n\nvar useWebRTC = function () {\n    var context = (0,react.useContext)(WebRTCContext);\n    if (!context) {\n        throw new Error("useWebRTC must be used within a WebRTCProvider");\n    }\n    return context;\n};\n\n// EXTERNAL MODULE: ./node_modules/immer/dist/immer.mjs\nvar immer = __webpack_require__(1932);\n;// CONCATENATED MODULE: ./src/features/rooms/slice/roomsSlice.ts\nvar roomsSlice_assign = (undefined && undefined.__assign) || function () {\n    roomsSlice_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return roomsSlice_assign.apply(this, arguments);\n};\nvar __spreadArray = (undefined && undefined.__spreadArray) || function (to, from, pack) {\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\n        if (ar || !(i in from)) {\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\n            ar[i] = from[i];\n        }\n    }\n    return to.concat(ar || Array.prototype.slice.call(from));\n};\nvar roomsSlice_a;\n\n\nvar roomsAdapter = (0,redux_toolkit_modern/* createEntityAdapter */.pU)();\nvar roomsSlice = (0,redux_toolkit_modern/* createSlice */.Z0)({\n    name: "rooms",\n    initialState: roomsAdapter.getInitialState(),\n    reducers: {\n        roomAdded: function (state, _a) {\n            var payload = _a.payload;\n            roomsAdapter.addOne(state, roomsSlice_assign(roomsSlice_assign({}, payload), { messageIds: [] }));\n        },\n        roomRemoved: roomsAdapter.removeOne\n    },\n    extraReducers: function (builder) {\n        builder.addCase(messageAdded, function (state, _a) {\n            var _b = _a.payload, roomId = _b.roomId, id = _b.id;\n            var room = (0,immer/* current */.ss)(state.ids).includes(roomId);\n            if (room) {\n                var messageIds = (0,immer/* current */.ss)(state.entities[roomId]).messageIds;\n                roomsAdapter.updateOne(state, {\n                    id: roomId,\n                    changes: {\n                        messageIds: __spreadArray(__spreadArray([], messageIds, true), [id], false)\n                    }\n                });\n            }\n        });\n        builder.addCase(messageRemoved, function (state, _a) {\n            var _b = _a.payload, roomId = _b.roomId, id = _b.id;\n            var room = (0,immer/* current */.ss)(state.ids).includes(roomId);\n            var messageIds = (0,immer/* current */.ss)(state.entities[roomId]).messageIds;\n            if (room) {\n                roomsAdapter.updateOne(state, {\n                    id: roomId,\n                    changes: {\n                        messageIds: messageIds.filter(function (messageId) { return id !== messageId; })\n                    }\n                });\n            }\n        });\n    }\n});\nvar roomAdded = (roomsSlice_a = roomsSlice.actions, roomsSlice_a.roomAdded), roomRemoved = roomsSlice_a.roomRemoved;\n\n;// CONCATENATED MODULE: ./src/features/rooms/hooks/useRoomDialog.tsx\nvar useRoomDialog_awaiter = (undefined && undefined.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator["throw"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar useRoomDialog_generator = (undefined && undefined.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), "throw": verb(1), "return": verb(2) }, typeof Symbol === "function" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError("Generator is already executing.");\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\n            if (f = 1, y && (t = op[0] & 2 ? y["return"] : op[0] ? y["throw"] || ((t = y["return"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\n// import { QueryStatus } from "@reduxjs/toolkit/query";\n\n\n\n\n// import { useAddRoomMutation } from "../api";\n\n\nvar initialValues = {\n    name: "",\n    answer: "",\n    description: ""\n};\nvar DialogStates;\n(function (DialogStates) {\n    DialogStates[DialogStates["INITIAL"] = 0] = "INITIAL";\n    DialogStates[DialogStates["ADDING"] = 1] = "ADDING";\n    DialogStates[DialogStates["ANSWER"] = 2] = "ANSWER";\n    DialogStates[DialogStates["JOINING"] = 3] = "JOINING";\n})(DialogStates || (DialogStates = {}));\n//TODO: Move the webrtc specific logic?\nvar useRoomDialog = function (onClose) {\n    var _a = (0,react.useState)(DialogStates.INITIAL), state = _a[0], setState = _a[1];\n    var roomId = (0,react.useMemo)(function () { return (0,redux_toolkit_modern/* nanoid */.Ak)(); }, []);\n    var webRTCService = useWebRTC();\n    var navigate = (0,react_router_dist/* useNavigate */.Zp)();\n    var dispatch = useAppDispatch();\n    var _b = (0,react.useState)(initialValues), _c = _b[0], name = _c.name, description = _c.description, answer = _c.answer, setInputValues = _b[1];\n    // useEffect(() => {\n    //     console.log(state);\n    // }, [state]);\n    (0,react.useEffect)(function () {\n        if (!name && !description && !answer) {\n            setState(DialogStates.INITIAL);\n        }\n    }, [name, description, answer]);\n    var handleChange = function (field) { return function (event) {\n        var _a;\n        switch (field) {\n            case "name":\n                setState(DialogStates.ADDING);\n                break;\n            case "description":\n                setState(DialogStates.JOINING);\n                break;\n            default:\n                break;\n        }\n        setInputValues((_a = {\n                name: name,\n                answer: answer,\n                description: description\n            },\n            _a[field] = event.currentTarget.value,\n            _a));\n    }; };\n    var handleSubmit = function () { return useRoomDialog_awaiter(void 0, void 0, void 0, function () {\n        var result, _a, error_1;\n        return useRoomDialog_generator(this, function (_b) {\n            switch (_b.label) {\n                case 0:\n                    _a = state;\n                    switch (_a) {\n                        case DialogStates.ADDING: return [3 /*break*/, 1];\n                        case DialogStates.ANSWER: return [3 /*break*/, 3];\n                        case DialogStates.JOINING: return [3 /*break*/, 5];\n                    }\n                    return [3 /*break*/, 10];\n                case 1:\n                    setState(DialogStates.ANSWER);\n                    webRTCService.createConnection(roomId);\n                    webRTCService.createDataChannel({\n                        id: roomId,\n                        label: "chat"\n                    });\n                    return [4 /*yield*/, webRTCService.createAndSetOffer(roomId)];\n                case 2:\n                    result = _b.sent();\n                    //TODO: Remove\n                    console.log("OFFER");\n                    console.log(JSON.stringify(result));\n                    return [3 /*break*/, 11];\n                case 3: return [4 /*yield*/, webRTCService.setRemoteDescription({\n                        id: roomId,\n                        sessionDescription: answer\n                    })];\n                case 4:\n                    _b.sent();\n                    dispatch(roomAdded({ id: roomId, name: name }));\n                    setInputValues(initialValues);\n                    onClose();\n                    navigate("/rooms/".concat(roomId));\n                    return [3 /*break*/, 11];\n                case 5:\n                    _b.trys.push([5, 8, , 9]);\n                    webRTCService.createConnection(roomId);\n                    //ADD ICE CANDIDATES\n                    return [4 /*yield*/, webRTCService.setRemoteDescription({\n                            id: roomId,\n                            sessionDescription: description\n                        })];\n                case 6:\n                    //ADD ICE CANDIDATES\n                    _b.sent();\n                    webRTCService.createDataChannel({\n                        id: roomId,\n                        label: "chat"\n                    });\n                    return [4 /*yield*/, webRTCService.createAndSetAnswer(roomId)];\n                case 7:\n                    result = _b.sent();\n                    console.log("ANSWER");\n                    console.log(JSON.stringify(result));\n                    dispatch(roomAdded({ id: roomId, name: name }));\n                    setInputValues(initialValues);\n                    onClose();\n                    navigate("/rooms/".concat(roomId));\n                    return [3 /*break*/, 9];\n                case 8:\n                    error_1 = _b.sent();\n                    console.error("Error: RTC initialization failed. ".concat(error_1));\n                    return [3 /*break*/, 9];\n                case 9: return [3 /*break*/, 11];\n                case 10: return [3 /*break*/, 11];\n                case 11: return [2 /*return*/];\n            }\n        });\n    }); };\n    var handleClose = function () {\n        setInputValues(initialValues);\n        onClose();\n    };\n    return {\n        answer: answer,\n        state: state,\n        name: name,\n        description: description,\n        handleChange: handleChange,\n        handleSubmit: handleSubmit,\n        handleClose: handleClose\n    };\n};\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogContent/DialogContent.js + 1 modules\nvar DialogContent = __webpack_require__(2477);\n// EXTERNAL MODULE: ./node_modules/@mui/material/DialogTitle/DialogTitle.js\nvar DialogTitle = __webpack_require__(6831);\n// EXTERNAL MODULE: ./node_modules/@mui/material/TextField/TextField.js + 34 modules\nvar TextField = __webpack_require__(8184);\n// EXTERNAL MODULE: ./node_modules/@mui/material/Divider/Divider.js\nvar Divider = __webpack_require__(1543);\n;// CONCATENATED MODULE: ./src/features/rooms/components/RoomDialogContent.tsx\n\n\n\n//TODO: Add some sort of steps logic or switch like wrapper\nvar RoomDialogContent = function (_a) {\n    var state = _a.state, name = _a.name, answer = _a.answer, description = _a.description, handleChange = _a.handleChange;\n    return ((0,jsx_runtime.jsx)(DialogContent/* default */.A, { children: (0,jsx_runtime.jsxs)(Stack/* default */.A, { spacing: 2, children: [[\n                    DialogStates.INITIAL,\n                    DialogStates.ADDING,\n                    DialogStates.ANSWER\n                ].includes(state) && ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [[DialogStates.INITIAL, DialogStates.ADDING].includes(state) && ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(DialogTitle/* default */.A, { children: "Create a new room" }), (0,jsx_runtime.jsx)(TextField/* default */.A, { placeholder: "Write a new room name", autoFocus: true, disabled: Boolean(description), value: name, onChange: handleChange("name"), autoComplete: "off" })] })), state === DialogStates.ANSWER && ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(DialogTitle/* default */.A, { children: "Paste an answer" }), (0,jsx_runtime.jsx)(TextField/* default */.A, { placeholder: "Answer", autoFocus: true, disabled: Boolean(description), value: answer, onChange: handleChange("answer"), autoComplete: "off" })] }))] })), state === DialogStates.INITIAL && (0,jsx_runtime.jsx)(Divider/* default */.A, { children: "OR" }), [DialogStates.INITIAL, DialogStates.JOINING].includes(state) && ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(DialogTitle/* default */.A, { children: "Join an existing" }), (0,jsx_runtime.jsx)(TextField/* default */.A, { placeholder: "Paste a Session Description Protocol", disabled: Boolean(name), value: description, onChange: handleChange("description"), autoComplete: "off" })] }))] }) }));\n};\n\n;// CONCATENATED MODULE: ./src/features/rooms/components/RoomDialog.tsx\n\n\n\n\n\n//TODO: Add i18n\n//TODO: Add reject error handling\nvar RoomDialog = function (_a) {\n    var open = _a.open, onClose = _a.onClose;\n    var _b = useRoomDialog(onClose), name = _b.name, state = _b.state, answer = _b.answer, description = _b.description, handleChange = _b.handleChange, handleSubmit = _b.handleSubmit, handleClose = _b.handleClose;\n    return ((0,jsx_runtime.jsxs)(Dialog/* default */.A, { onClose: handleClose, PaperComponent: Paper_Paper, open: open, children: [(0,jsx_runtime.jsx)(RoomDialogContent, { name: name, state: state, answer: answer, description: description, handleChange: handleChange }), (0,jsx_runtime.jsxs)(DialogActions/* default */.A, { children: [(0,jsx_runtime.jsx)(Button/* default */.A, { onClick: handleClose, children: "Cancel" }), (0,jsx_runtime.jsx)(Button/* default */.A, { disabled: !name && !description, onClick: handleSubmit, children: "Submit" })] })] }));\n};\n\n;// CONCATENATED MODULE: ./src/common/lib/stringToColor.ts\nfunction stringToColor(string) {\n    var hash = 0;\n    var i;\n    /* eslint-disable no-bitwise */\n    for (i = 0; i < string.length; i += 1) {\n        hash = string.charCodeAt(i) + ((hash << 5) - hash);\n    }\n    var color = "#";\n    for (i = 0; i < 3; i += 1) {\n        var value = (hash >> (i * 8)) & 0xff;\n        color += "00".concat(value.toString(16)).slice(-2);\n    }\n    /* eslint-enable no-bitwise */\n    return color;\n}\n\n;// CONCATENATED MODULE: ./src/common/lib/stringAvatar.ts\n\nfunction stringAvatar(name) {\n    return {\n        sx: {\n            bgcolor: stringToColor(name)\n        },\n        children: "".concat(name.substring(0, 2))\n    };\n}\n\n;// CONCATENATED MODULE: ./src/features/rooms/hooks/useRoom.tsx\n\nvar useRoom = function (id) {\n    var navigate = (0,react_router_dist/* useNavigate */.Zp)();\n    var handleDelete = function () { };\n    var handleNavigate = function () {\n        navigate("/rooms/".concat(id));\n    };\n    return { handleDelete: handleDelete, handleNavigate: handleNavigate };\n};\n\n;// CONCATENATED MODULE: ./src/features/rooms/components/Room.tsx\nvar Room_assign = (undefined && undefined.__assign) || function () {\n    Room_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return Room_assign.apply(this, arguments);\n};\n\n\n\n\n\n//TODO: Add area attributes\n//TODO: Add an deleting alert dialog\nvar Room = function (_a) {\n    var id = _a.id, imgSrc = _a.imgSrc, name = _a.name;\n    var handleNavigate = useRoom(id).handleNavigate;\n    return ((0,jsx_runtime.jsx)(ListItem_ListItem, { sx: { mb: 2 }, onClick: handleNavigate, icon: imgSrc ? ((0,jsx_runtime.jsx)(Avatar/* default */.A, { src: imgSrc })) : ((0,jsx_runtime.jsx)(Avatar/* default */.A, Room_assign({}, stringAvatar(name)))) }));\n};\n\n;// CONCATENATED MODULE: ./src/features/rooms/slice/selectors.ts\n\n\nvar roomsSelectors = roomsAdapter.getSelectors(function (state) { return state.rooms; });\n//TODO: Use createSelector\nvar getMessageIdsByRoomId = function (id) {\n    return storeHooks_useAppSelector(function (state) { var _a; return (_a = roomsSelectors.selectById(state, id)) === null || _a === void 0 ? void 0 : _a.messageIds; });\n};\nvar getAllRooms = function () { return storeHooks_useAppSelector(roomsSelectors.selectAll); };\nvar getRoomById = function (id) {\n    return useAppSelector(function (state) { return roomsSelectors.selectById(state, id); });\n};\nvar roomExists = function (id) {\n    return storeHooks_useAppSelector(function (state) { return roomsSelectors.selectIds(state).includes(id); });\n};\n\n;// CONCATENATED MODULE: ./src/features/rooms/hooks/useRooms.tsx\n\n\nvar useRooms = function () {\n    var rooms = getAllRooms();\n    var _a = (0,react.useState)(false), creationOpen = _a[0], setCreationOpen = _a[1];\n    var handleOpen = function () {\n        setCreationOpen(true);\n    };\n    var handleClose = function () {\n        setCreationOpen(false);\n    };\n    return {\n        rooms: rooms,\n        creationOpen: creationOpen,\n        handleOpen: handleOpen,\n        handleClose: handleClose\n    };\n};\n\n;// CONCATENATED MODULE: ./src/features/rooms/components/Rooms.tsx\nvar Rooms_assign = (undefined && undefined.__assign) || function () {\n    Rooms_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return Rooms_assign.apply(this, arguments);\n};\n\n\n\n\n\n\nvar Rooms = function () {\n    var _a = useRooms(), rooms = _a.rooms, creationOpen = _a.creationOpen, handleOpen = _a.handleOpen, handleClose = _a.handleClose;\n    return ((0,jsx_runtime.jsxs)(List/* default */.A, { children: [(0,jsx_runtime.jsx)(RoomDialog, { onClose: handleClose, open: creationOpen }), rooms === null || rooms === void 0 ? void 0 : rooms.map(function (props, index) { return (0,jsx_runtime.jsx)(Room, Rooms_assign({}, props), index); }), (0,jsx_runtime.jsx)(ListItem_ListItem, { icon: (0,jsx_runtime.jsx)(Avatar/* default */.A, { children: "+" }), onClick: handleOpen })] }));\n};\n\n;// CONCATENATED MODULE: ./src/routing/routes.ts\nvar routes = {\n    baseRoute: "/",\n    room: "rooms/:roomId"\n};\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Person.js\nvar Person = __webpack_require__(1432);\n// EXTERNAL MODULE: ./node_modules/@mui/material/IconButton/IconButton.js + 1 modules\nvar IconButton = __webpack_require__(1641);\n;// CONCATENATED MODULE: ./src/app/hooks/useLocalStorage.ts\n\nvar useLocalStorage = function (key, initialValue) {\n    var _a;\n    var _b = (0,react.useState)((_a = localStorage.getItem(key)) !== null && _a !== void 0 ? _a : initialValue), value = _b[0], setValue = _b[1];\n    var setItem = function (value) {\n        localStorage.setItem(key, value);\n        setValue(value);\n    };\n    var getItem = function () {\n        var value = localStorage.getItem(key);\n        return value ? JSON.parse(value) : null;\n    };\n    var removeItem = function () {\n        localStorage.removeItem(key);\n        setValue(undefined);\n    };\n    return { value: value, setItem: setItem, getItem: getItem, removeItem: removeItem };\n};\n\n;// CONCATENATED MODULE: ./src/features/userSettings/hooks/useUserSettings.ts\n\n\nvar useUserSettings = function () {\n    var _a = (0,react.useState)(false), open = _a[0], setOpen = _a[1];\n    var _b = (0,react.useState)(""), userName = _b[0], setUserName = _b[1];\n    var _c = useLocalStorage("userName"), localUserName = _c.value, setItem = _c.setItem, removeItem = _c.removeItem;\n    var handleOpen = function () {\n        setOpen(true);\n    };\n    var handleClose = function () {\n        setOpen(false);\n    };\n    var handleUserNameChange = function (event) {\n        setUserName(event.currentTarget.value);\n    };\n    var handleConfirm = function () {\n        if (userName) {\n            setItem(userName);\n        }\n        else {\n            removeItem();\n        }\n        handleClose();\n    };\n    var handleKeyDown = function (event) {\n        if (event.key === "Enter") {\n            event.preventDefault();\n            handleConfirm();\n        }\n    };\n    (0,react.useEffect)(function () {\n        if (localUserName) {\n            setUserName(localUserName);\n        }\n    }, [localUserName]);\n    return {\n        open: open,\n        handleClose: handleClose,\n        userName: userName,\n        handleConfirm: handleConfirm,\n        handleOpen: handleOpen,\n        handleUserNameChange: handleUserNameChange,\n        handleKeyDown: handleKeyDown\n    };\n};\n\n;// CONCATENATED MODULE: ./src/features/userSettings/components/UserSettings.tsx\n\n\n\n\nvar UserSettingsDialog = function () {\n    var _a = useUserSettings(), open = _a.open, handleClose = _a.handleClose, userName = _a.userName, handleConfirm = _a.handleConfirm, handleOpen = _a.handleOpen, handleUserNameChange = _a.handleUserNameChange, handleKeyDown = _a.handleKeyDown;\n    return ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsxs)(Dialog/* default */.A, { open: open, onClose: handleClose, children: [(0,jsx_runtime.jsxs)(DialogContent/* default */.A, { children: [(0,jsx_runtime.jsx)(DialogTitle/* default */.A, { children: "Username" }), (0,jsx_runtime.jsx)(TextField/* default */.A, { placeholder: "Write a new room name", autoFocus: true, value: userName, onChange: handleUserNameChange, autoComplete: "off", onKeyDown: handleKeyDown })] }), (0,jsx_runtime.jsxs)(DialogActions/* default */.A, { children: [(0,jsx_runtime.jsx)(Button/* default */.A, { onClick: handleClose, children: "Cancel" }), (0,jsx_runtime.jsx)(Button/* default */.A, { onClick: handleConfirm, children: "Submit" })] })] }), (0,jsx_runtime.jsx)(IconButton/* default */.A, { "aria-label": "user-settings", onClick: handleOpen, children: (0,jsx_runtime.jsx)(Person/* default */.A, {}) })] }));\n};\n\n;// CONCATENATED MODULE: ./src/pages/ChatPage/index.tsx\n\n\n\n\n\n\n\n\nvar ChatPage = function () {\n    var roomId = (0,react_router_dist/* useParams */.g)().roomId;\n    var room = roomExists(roomId);\n    return ((0,jsx_runtime.jsx)(ChatLayout, { leftPanel: (0,jsx_runtime.jsxs)(Stack/* default */.A, { justifyContent: "space-between", alignItems: "center", children: [(0,jsx_runtime.jsx)(Rooms, {}), (0,jsx_runtime.jsx)(UserSettingsDialog, {})] }), chat: room ? (0,jsx_runtime.jsx)(react_router_dist/* Outlet */.sv, {}) : (0,jsx_runtime.jsx)(react_router_dist/* Navigate */.C5, { to: routes.baseRoute, replace: true }) }));\n};\n\n;// CONCATENATED MODULE: ./src/pages/index.tsx\n\n\n;// CONCATENATED MODULE: ./src/features/chat/components/styled.ts\n\n//TODO: Create common components\nvar Input = (0,styled/* default */.Ay)(TextField/* default */.A)({\n    display: "flex",\n    flexShrink: 0,\n    alignItems: "center",\n    height: "3rem",\n    border: "none",\n    borderRadius: "8px",\n    background: "rgba(0, 0, 0, 0.20)",\n    "& .MuiInput-root": {\n        padding: ".2rem 1rem",\n        width: "100%",\n        height: "100%"\n    }\n});\nvar ChatPaper = (0,styled/* default */.Ay)(Paper/* default */.A)({\n    display: "flex",\n    flexDirection: "column",\n    gap: ".5rem",\n    justifyContent: "space-between",\n    height: "100%",\n    width: "100%",\n    padding: ".75rem 1rem",\n    overflowY: "auto",\n    borderRadius: "8px",\n    border: " 1px solid #383c47",\n    background: "rgba(203, 227, 255, 0.10)",\n    boxShadow: "8px 16px 24px 0px rgba(0, 0, 0, 0.16)",\n    backdropFilter: "blur(8px)"\n});\nvar MessageItem = (0,styled/* default */.Ay)(ListItem/* default */.Ay)(function (_a) {\n    var theme = _a.theme;\n    return ({\n        alignItems: "start",\n        justifyContent: "start",\n        flexDirection: "column",\n        width: "auto",\n        maxWidth: "40%",\n        minWidth: 160,\n        padding: ".5rem 1.5rem 1.25rem .75rem",\n        borderRadius: "0 8px 8px 8px",\n        color: theme.palette.text.primary,\n        background: "rgba(203, 227, 255, 0.10)",\n        overflowWrap: "anywhere",\n        cursor: "pointer"\n    });\n});\nvar MessageHeader = (0,styled/* default */.Ay)("div")({\n    display: "flex",\n    flexWrap: "nowrap",\n    alignItems: "center",\n    gap: "4px"\n});\nvar ChatBox = (0,styled/* default */.Ay)(List/* default */.A)({\n    display: "flex",\n    flexDirection: "column",\n    alignItems: "flex-start",\n    gap: "1rem",\n    overflowY: "auto",\n    "&::-webkit-scrollbar": {\n        width: "0.4em"\n    },\n    "&::-webkit-scrollbar-thumb": {\n        backgroundColor: "rgba(0, 0, 0, 0.20)",\n        borderRadius: "0.2em"\n    }\n});\n\n// EXTERNAL MODULE: ./node_modules/@mui/icons-material/Send.js\nvar Send = __webpack_require__(443);\n;// CONCATENATED MODULE: ./src/features/chat/hooks/useChatInput.tsx\n\n\n\n\n\n\n//TODO: Add send checks\n//TODO: Move the error message to a constant\n//TODO: Add a name change watcher\nvar useChatInput = function () {\n    var webRTCService = useWebRTC();\n    var dispatch = useAppDispatch();\n    var roomId = (0,react_router_dist/* useParams */.g)().roomId;\n    var userName = useLocalStorage("userName").value;\n    var _a = (0,react.useState)(""), text = _a[0], setText = _a[1];\n    var handleSendMessage = function () {\n        if (text) {\n            dispatch(messageAdded({\n                userName: userName,\n                roomId: roomId,\n                text: text\n            }));\n            try {\n                webRTCService.sendMessage({ id: roomId, message: text });\n            }\n            catch (error) {\n                console.error(error);\n            }\n            setText("");\n        }\n    };\n    //TODO: Keep the draft\n    (0,react.useEffect)(function () {\n        setText("");\n    }, [roomId]);\n    var handleChange = function (e) {\n        setText(e.target.value);\n    };\n    var handleSend = function (event) {\n        if (event.key === "Enter") {\n            handleSendMessage();\n        }\n    };\n    return {\n        text: text,\n        handleSend: handleSend,\n        handleSendMessage: handleSendMessage,\n        handleChange: handleChange\n    };\n};\n\n;// CONCATENATED MODULE: ./src/features/chat/components/ChatInput/ChatInput.tsx\n\n\n\n\n\nvar ChatInput = function () {\n    var _a = useChatInput(), text = _a.text, handleSend = _a.handleSend, handleSendMessage = _a.handleSendMessage, handleChange = _a.handleChange;\n    return ((0,jsx_runtime.jsx)(Input, { id: "message-input", value: text, onChange: handleChange, autoComplete: "off", variant: "standard", size: "small", onKeyUp: handleSend, InputProps: {\n            disableUnderline: true,\n            endAdornment: ((0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: text && ((0,jsx_runtime.jsx)(IconButton/* default */.A, { onClick: handleSendMessage, children: (0,jsx_runtime.jsx)(Send/* default */.A, {}) })) }))\n        }, placeholder: "Write a message..." }));\n};\n\n;// CONCATENATED MODULE: ./src/features/chat/slice/selectors.ts\n\n\nvar getAllMessages = function () { return storeHooks_useAppSelector(messagesSelectors.selectAll); };\n\n;// CONCATENATED MODULE: ./src/features/chat/hooks/useChat.tsx\n\n\n\n\nvar useChat = function () {\n    var roomId = (0,react_router_dist/* useParams */.g)().roomId;\n    var messageIds = getMessageIdsByRoomId(roomId);\n    var allMessages = getAllMessages();\n    var messages = (0,react.useMemo)(function () {\n        return allMessages === null || allMessages === void 0 ? void 0 : allMessages.filter(function (_a) {\n            var id = _a.id;\n            return messageIds === null || messageIds === void 0 ? void 0 : messageIds.includes(id);\n        });\n    }, [messageIds]);\n    var endRef = (0,react.createRef)();\n    (0,react.useEffect)(function () {\n        var _a;\n        (_a = endRef.current) === null || _a === void 0 ? void 0 : _a.scrollIntoView();\n    }, [messages]);\n    return { messages: messages, endRef: endRef };\n};\n\n// EXTERNAL MODULE: ./node_modules/moment/moment.js\nvar moment = __webpack_require__(5093);\nvar moment_default = /*#__PURE__*/__webpack_require__.n(moment);\n;// CONCATENATED MODULE: ./src/components/ConfirmationDialog/ConfirmationDialog.tsx\n\n\nvar ConfirmationDialog = function (_a) {\n    var open = _a.open, title = _a.title, onConfirm = _a.onConfirm, onCancel = _a.onCancel;\n    return ((0,jsx_runtime.jsxs)(Dialog/* default */.A, { onClose: onCancel, open: open, children: [(0,jsx_runtime.jsx)(DialogTitle/* default */.A, { children: title }), (0,jsx_runtime.jsxs)(DialogActions/* default */.A, { children: [(0,jsx_runtime.jsx)(Button/* default */.A, { autoFocus: true, onClick: onCancel, children: "Cancel" }), (0,jsx_runtime.jsx)(Button/* default */.A, { onClick: onConfirm, children: "Ok" })] })] }));\n};\n\n;// CONCATENATED MODULE: ./src/components/ConfirmationDialog/index.ts\n\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/Popper/Popper.js + 59 modules\nvar Popper = __webpack_require__(7591);\n// EXTERNAL MODULE: ./node_modules/@mui/base/ClickAwayListener/ClickAwayListener.js\nvar ClickAwayListener = __webpack_require__(4475);\n// EXTERNAL MODULE: ./node_modules/@mui/material/MenuList/MenuList.js + 1 modules\nvar MenuList = __webpack_require__(8116);\n// EXTERNAL MODULE: ./node_modules/@mui/material/MenuItem/MenuItem.js + 1 modules\nvar MenuItem = __webpack_require__(3896);\n;// CONCATENATED MODULE: ./src/components/PopperMenu/PopperMenu.tsx\n\n//TODO: Use path imports to improve optimization\n\nvar PopperMenu = function (_a) {\n    var anchorEl = _a.anchorEl, menuItems = _a.menuItems, onClose = _a.onClose;\n    var open = Boolean(anchorEl);\n    return ((0,jsx_runtime.jsx)(jsx_runtime.Fragment, { children: (0,jsx_runtime.jsx)(Popper/* default */.A, { placement: "right-start", anchorEl: anchorEl, open: open, children: (0,jsx_runtime.jsx)(Paper/* default */.A, { children: (0,jsx_runtime.jsx)(ClickAwayListener/* ClickAwayListener */.x, { onClickAway: onClose, children: (0,jsx_runtime.jsx)(MenuList/* default */.A, { children: menuItems.map(function (_a, index) {\n                            var text = _a.text, handler = _a.handler;\n                            return ((0,jsx_runtime.jsx)(MenuItem/* default */.A, { onClick: handler, children: text }, index));\n                        }) }) }) }) }) }));\n};\n\n;// CONCATENATED MODULE: ./src/components/PopperMenu/index.ts\n\n\n;// CONCATENATED MODULE: ./src/features/chat/hooks/useMessageMenu.tsx\nvar useMessageMenu_assign = (undefined && undefined.__assign) || function () {\n    useMessageMenu_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return useMessageMenu_assign.apply(this, arguments);\n};\n\n\n\nvar useMessageMenu = function (_a) {\n    var id = _a.id, roomId = _a.roomId;\n    var dispatch = useAppDispatch();\n    var _b = (0,react.useState)(false), open = _b[0], setOpen = _b[1];\n    var _c = (0,react.useState)({\n        title: "",\n        onCancel: function () {\n            setOpen(false);\n        }\n    }), confirmation = _c[0], setConfirmation = _c[1];\n    var handleConfirmationOpen = function (action) {\n        setOpen(true);\n        setConfirmation(useMessageMenu_assign(useMessageMenu_assign({}, confirmation), { title: "Do you want to delete this message?", onConfirm: function () {\n                dispatch(messageRemoved({ id: id, roomId: roomId }));\n            } }));\n    };\n    var handleDelete = function () {\n        handleConfirmationOpen("delete");\n    };\n    return { open: open, confirmation: confirmation, handleDelete: handleDelete };\n};\n\n;// CONCATENATED MODULE: ./src/features/chat/components/MessageMenu/MessageMenu.tsx\nvar MessageMenu_assign = (undefined && undefined.__assign) || function () {\n    MessageMenu_assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return MessageMenu_assign.apply(this, arguments);\n};\n\n\n\n\n//TODO: Think on moving confirmation dialogs to menu item components for better api\nvar MessageMenu = function (_a) {\n    var anchorEl = _a.anchorEl, id = _a.id, roomId = _a.roomId, onClose = _a.onClose;\n    var _b = useMessageMenu({ id: id, roomId: roomId }), open = _b.open, confirmation = _b.confirmation, handleDelete = _b.handleDelete;\n    return ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(ConfirmationDialog, MessageMenu_assign({}, confirmation, { open: open })), (0,jsx_runtime.jsx)(PopperMenu, { anchorEl: anchorEl, onClose: onClose, menuItems: [\n                    { text: "Edit", handler: onClose },\n                    { text: "Copy", handler: onClose },\n                    { text: "Delete", handler: handleDelete }\n                ] })] }));\n};\n\n;// CONCATENATED MODULE: ./src/features/chat/components/MessageMenu/index.ts\n\n\n;// CONCATENATED MODULE: ./src/features/chat/components/Message/Message.tsx\n\n\n\n\n\n\n//TODO: Add avatars\n//TODO: useMessage\n//TODO: Create a popper menu\nvar Message = function (_a) {\n    var id = _a.id, roomId = _a.roomId, text = _a.text, userName = _a.userName, date = _a.date;\n    var _b = (0,react.useState)(null), anchorEl = _b[0], setAnchorEl = _b[1];\n    var handleOpen = function (event) {\n        setAnchorEl(event.currentTarget);\n    };\n    var handleClose = function () {\n        setAnchorEl(null);\n    };\n    return ((0,jsx_runtime.jsxs)(jsx_runtime.Fragment, { children: [(0,jsx_runtime.jsx)(MessageMenu, { onClose: handleClose, anchorEl: anchorEl, id: id, roomId: roomId }), (0,jsx_runtime.jsxs)(MessageItem, { onClick: handleOpen, children: [(0,jsx_runtime.jsx)(MessageHeader, { children: (0,jsx_runtime.jsx)(Typography/* default */.A, { color: "primary", fontWeight: "600", fontSize: "small", children: userName }) }), (0,jsx_runtime.jsx)(Typography/* default */.A, { children: text }), (0,jsx_runtime.jsx)(Typography/* default */.A, { color: "primary", fontSize: ".75rem", position: "absolute", right: ".75rem", bottom: ".25rem", children: moment_default()(date).format("h:mm a") })] })] }));\n};\n\n;// CONCATENATED MODULE: ./src/features/chat/components/Message/index.ts\n\n\n;// CONCATENATED MODULE: ./src/features/chat/components/Chat/Chat.tsx\n\n\n\n\n\nvar Chat = function () {\n    var _a = useChat(), messages = _a.messages, endRef = _a.endRef;\n    return ((0,jsx_runtime.jsxs)(ChatPaper, { children: [(0,jsx_runtime.jsxs)(ChatBox, { dense: true, disablePadding: true, children: [messages === null || messages === void 0 ? void 0 : messages.map(function (_a) {\n                        var id = _a.id, roomId = _a.roomId, userName = _a.userName, date = _a.timestamp, text = _a.text;\n                        return ((0,jsx_runtime.jsx)(Message, { id: id, roomId: roomId, text: text, userName: userName, date: date }, id));\n                    }), (0,jsx_runtime.jsx)("div", { ref: endRef })] }), (0,jsx_runtime.jsx)(ChatInput, {})] }));\n};\n\n;// CONCATENATED MODULE: ./src/features/chat/components/Chat/index.ts\n\n\n;// CONCATENATED MODULE: ./src/routing/AppRoutes.tsx\n\n\n\n\n\nvar baseRoute = routes.baseRoute, room = routes.room;\n//Rework the routes\nvar AppRoutes = function () { return ((0,jsx_runtime.jsxs)(react_router_dist/* Routes */.BV, { children: [(0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: baseRoute, element: (0,jsx_runtime.jsx)(ChatPage, {}), children: (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: room, element: (0,jsx_runtime.jsx)(Chat, {}) }) }), (0,jsx_runtime.jsx)(react_router_dist/* Route */.qh, { path: "*", element: (0,jsx_runtime.jsx)(react_router_dist/* Navigate */.C5, { to: baseRoute, replace: true }) })] })); };\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/CssBaseline/CssBaseline.js\nvar CssBaseline = __webpack_require__(4519);\n// EXTERNAL MODULE: ./node_modules/redux/dist/redux.mjs\nvar redux = __webpack_require__(4644);\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/query/rtk-query.modern.mjs\nvar rtk_query_modern = __webpack_require__(378);\n// EXTERNAL MODULE: ./node_modules/@reduxjs/toolkit/dist/query/react/rtk-query-react.modern.mjs\nvar rtk_query_react_modern = __webpack_require__(5816);\n;// CONCATENATED MODULE: ./src/app/services/api.ts\n\n//TODO: Add headers preparation\nvar baseQuery = (0,rtk_query_modern/* fetchBaseQuery */.cw)({\n    baseUrl: "http://localhost:5000/api/v1"\n});\nvar baseQueryWithRetry = (0,rtk_query_modern/* retry */.L5)(baseQuery, { maxRetries: 2 });\nvar api = (0,rtk_query_react_modern/* createApi */.xP)({\n    baseQuery: baseQueryWithRetry,\n    tagTypes: ["Rooms", "Chat"],\n    endpoints: function () { return ({}); }\n});\n\n;// CONCATENATED MODULE: ./src/app/store/store.ts\nvar store_a;\n\n\n\n\nvar rootReducer = (0,redux/* combineReducers */.HY)((store_a = {},\n    store_a[messagesSlice.reducerPath] = messagesSlice.reducer,\n    store_a[roomsSlice.reducerPath] = roomsSlice.reducer,\n    store_a[api.reducerPath] = api.reducer,\n    store_a));\nvar setupStore = function (preloadedState) {\n    return (0,redux_toolkit_modern/* configureStore */.U1)({\n        reducer: rootReducer,\n        preloadedState: preloadedState,\n        middleware: function (getDefaultMiddleware) {\n            return getDefaultMiddleware().concat(api.middleware);\n        }\n    });\n};\nvar store = setupStore({\n    rooms: {\n        entities: {\n            "123": { id: "123", name: "Test", messageIds: ["1", "2", "3", "4"] }\n        },\n        ids: ["123"]\n    },\n    messages: {\n        entities: {\n            "1": {\n                id: "1",\n                text: "Text Message",\n                roomId: "123",\n                timestamp: new Date().toISOString()\n            },\n            "2": {\n                id: "2",\n                text: "Text Message",\n                roomId: "123",\n                timestamp: new Date().toISOString()\n            },\n            "3": {\n                id: "3",\n                userName: "User Name",\n                text: "Text Message",\n                roomId: "123",\n                timestamp: new Date().toISOString()\n            },\n            "4": {\n                id: "4",\n                text: "Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message Text Message ",\n                roomId: "123",\n                timestamp: new Date().toISOString()\n            }\n        },\n        ids: ["1", "2", "3", "4"]\n    }\n});\n\n;// CONCATENATED MODULE: ./src/app/providers/StoreProvider.tsx\n\n\n\nvar StoreProvider = function (_a) {\n    var children = _a.children;\n    return ((0,jsx_runtime.jsx)(react_redux/* Provider */.Kq, { store: store, children: children }));\n};\n\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/ThemeProvider.js + 5 modules\nvar ThemeProvider = __webpack_require__(5793);\n// EXTERNAL MODULE: ./node_modules/@mui/material/styles/createTheme.js + 14 modules\nvar createTheme = __webpack_require__(3478);\n;// CONCATENATED MODULE: ./src/themes/darkTheme.ts\n\nvar darkTheme = (0,createTheme/* default */.A)({\n    palette: {\n        mode: "dark"\n    }\n});\n\n;// CONCATENATED MODULE: ./src/app/providers/ThemeProvider.tsx\n\n\n\nvar ThemeProvider_ThemeProvider = function (_a) {\n    var children = _a.children;\n    return ((0,jsx_runtime.jsx)(ThemeProvider/* default */.A, { theme: darkTheme, children: children }));\n};\n\n;// CONCATENATED MODULE: ./src/app/providers/RootProvider.tsx\n\n\n\n\n\nvar RootProvider = function (_a) {\n    var children = _a.children;\n    return ((0,jsx_runtime.jsx)(ThemeProvider_ThemeProvider, { children: (0,jsx_runtime.jsx)(StoreProvider, { children: (0,jsx_runtime.jsxs)(WebRTCProvider, { children: [(0,jsx_runtime.jsx)(CssBaseline/* default */.Ay, {}), children] }) }) }));\n};\n\n;// CONCATENATED MODULE: ./src/app/App.tsx\n\n\n\n\n\n\n//TODO: Think on adding a redux persist\nvar App = function () { return ((0,jsx_runtime.jsx)(react.StrictMode, { children: (0,jsx_runtime.jsx)(ErrorBoundary, { children: (0,jsx_runtime.jsx)(RootProvider, { children: (0,jsx_runtime.jsx)(dist/* HashRouter */.I9, { children: (0,jsx_runtime.jsx)(AppRoutes, {}) }) }) }) })); };\n\n;// CONCATENATED MODULE: ./src/index.tsx\n\n\n\n\n\nvar root = (0,client/* createRoot */.H)(document.getElementById("root"));\nroot.render((0,jsx_runtime.jsx)(react.StrictMode, { children: (0,jsx_runtime.jsx)(App, {}) }));\n\n\n//# sourceURL=webpack://dischat/./src/index.tsx_+_54_modules?')}},__webpack_module_cache__={},deferred,leafPrototypes,getProto;function __webpack_require__(e){var n=__webpack_module_cache__[e];if(void 0!==n)return n.exports;var t=__webpack_module_cache__[e]={id:e,loaded:!1,exports:{}};return __webpack_modules__[e].call(t.exports,t,t.exports,__webpack_require__),t.loaded=!0,t.exports}__webpack_require__.m=__webpack_modules__,deferred=[],__webpack_require__.O=(e,n,t,r)=>{if(!n){var a=1/0;for(l=0;l<deferred.length;l++){n=deferred[l][0],t=deferred[l][1],r=deferred[l][2];for(var s=!0,o=0;o<n.length;o++)(!1&r||a>=r)&&Object.keys(__webpack_require__.O).every((e=>__webpack_require__.O[e](n[o])))?n.splice(o--,1):(s=!1,r<a&&(a=r));if(s){deferred.splice(l--,1);var i=t();void 0!==i&&(e=i)}}return e}r=r||0;for(var l=deferred.length;l>0&&deferred[l-1][2]>r;l--)deferred[l]=deferred[l-1];deferred[l]=[n,t,r]},__webpack_require__.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return __webpack_require__.d(n,{a:n}),n},getProto=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__,__webpack_require__.t=function(e,n){if(1&n&&(e=this(e)),8&n)return e;if("object"==typeof e&&e){if(4&n&&e.__esModule)return e;if(16&n&&"function"==typeof e.then)return e}var t=Object.create(null);__webpack_require__.r(t);var r={};leafPrototypes=leafPrototypes||[null,getProto({}),getProto([]),getProto(getProto)];for(var a=2&n&&e;"object"==typeof a&&!~leafPrototypes.indexOf(a);a=getProto(a))Object.getOwnPropertyNames(a).forEach((n=>r[n]=()=>e[n]));return r.default=()=>e,__webpack_require__.d(t,r),t},__webpack_require__.d=(e,n)=>{for(var t in n)__webpack_require__.o(n,t)&&!__webpack_require__.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:n[t]})},__webpack_require__.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},__webpack_require__.nmd=e=>(e.paths=[],e.children||(e.children=[]),e),(()=>{var e={792:0};__webpack_require__.O.j=n=>0===e[n];var n=(n,t)=>{var r,a,s=t[0],o=t[1],i=t[2],l=0;if(s.some((n=>0!==e[n]))){for(r in o)__webpack_require__.o(o,r)&&(__webpack_require__.m[r]=o[r]);if(i)var u=i(__webpack_require__)}for(n&&n(t);l<s.length;l++)a=s[l],__webpack_require__.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return __webpack_require__.O(u)},t=self.webpackChunkdischat=self.webpackChunkdischat||[];t.forEach(n.bind(null,0)),t.push=n.bind(null,t.push.bind(t))})();var __webpack_exports__=__webpack_require__.O(void 0,[464],(()=>__webpack_require__(3635)));__webpack_exports__=__webpack_require__.O(__webpack_exports__)})();